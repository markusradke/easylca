rm(list=ls())
load_all()
dplyr::glimpse(titanic_passengers)
document()
?titanic_passengers
?titanic_passengers
document()
?titanic_passengers
?titanic_passengers
document()
?titanic_passengers
document()
?titanic_passengers
titanic_settings
document()
?titanic_passengers
?titanic_settings
document()
document()
?titanic_settings
document()
?titanic_settings
document()
?titanic_settings
?titanic_settings
document()
?titanic_settings
document()
document()
?titanic_settings
# reocde SibSp and Parch:
# # of siblings or spouses aboard (ordinal), levels: 0, 1, 2 or more
# # of parents or children aboard (ordinal), levels: 0, 1, 2 or more
titanic_passengers <- titanic::titanic_train %>%
dplyr::mutate(
survived = (Survived + 1) %>% as.integer(),
isfem = ifelse(Sex == 'female', 2, 1) %>% as.integer(),
port = ports_lookup[Embarked] %>% as.integer(),
nsibsp = (ifelse(SibSp < 2, SibSp, 2) + 1) %>% as.integer(),
nparchi = (ifelse(Parch < 2, Parch, 2) + 1) %>% as.integer()) %>%
dplyr::select(id = PassengerId, survived, pasclass = Pclass,
age = Age,  fare = Fare, nsibsp, nparchi,
isfem, port)
# titanic passengers example data set ----
ports_lookup <- c('S' = 1, 'C' = 2, 'Q' = 3) # Southhampton, Cherbourg, Queenstown
# reocde SibSp and Parch:
# # of siblings or spouses aboard (ordinal), levels: 0, 1, 2 or more
# # of parents or children aboard (ordinal), levels: 0, 1, 2 or more
titanic_passengers <- titanic::titanic_train %>%
dplyr::mutate(
survived = (Survived + 1) %>% as.integer(),
isfem = ifelse(Sex == 'female', 2, 1) %>% as.integer(),
port = ports_lookup[Embarked] %>% as.integer(),
nsibsp = (ifelse(SibSp < 2, SibSp, 2) + 1) %>% as.integer(),
nparchi = (ifelse(Parch < 2, Parch, 2) + 1) %>% as.integer()) %>%
dplyr::select(id = PassengerId, survived, pasclass = Pclass,
age = Age,  fare = Fare, nsibsp, nparchi,
isfem, port)
titanic_settings <- define_lca(frame = titanic_passengers,
analysis_name = 'titanic',
id_variable = 'id',
nclasses = 10,
nominal = c('port', 'pasclass'),
categorical = c('survived', 'isfem', 'nsibsp', 'nparchi'),
starts = 320,
cores = 16,
lmrlrt = T)
saveRDS(titanic_settings, 'settings.rds')
titanic_settings <- define_lca(frame = titanic_passengers,
analysis_name = 'titanic',
id_variable = 'id',
nclasses = 10,
nominal = c('port', 'pasclass'),
categorical = c('survived', 'isfem', 'nsibsp', 'nparchi'),
starts = 320,
cores = 64,
lmrlrt = T)
saveRDS(titanic_settings, 'settings.rds')
test_active_file()
test_active_file()
View(random_testresults)
?rerun_lca
test_active_file()
test_active_file()
test_active_file()
test_active_file()
test_active_file()
test_active_file()
test()
test()
check()
check()
use_r('define_lca')
tools::showNonASCII('*aa')
tools::showNonASCII('#')
tools::showNonASCII('χ')
tools::showNonASCII('|')
tools::showNonASCII('≤')
check()
dir(pattern = 'lines')
dir(pattern = 'lines', recursive = T)
tools::showNonASCII(''P(2 | class)'')
tools::showNonASCII('P(2 | class)')
tools::showNonASCII('* p < 0.05, ** p < 0.01, *** p < 0.001')
check()
check()
source("N:/Materialien/Software/easylca/data-raw/write_package_data.R")
source("N:/Materialien/Software/easylca/data-raw/write_package_data.R")
source("N:/Materialien/Software/easylca/data-raw/write_package_data.R")
source("N:/Materialien/Software/easylca/data-raw/write_package_data.R")
check()
use_data(random_testdata,
random_testdata_weights,
random_testresults,
discrete_colors_for_classes,
internal = T,
overwrite = T)
load_all()
check()
check()
check()
usethis::use_logo(img = 'logo')
usethis::use_logo(img = 'logo.png')
rm(list=ls())
check()
check()
check()
check()
test_active_file()
test_active_file()
test_active_file()
test_active_file()
test_active_file()
check()
Sys.time()
Sys.time(),
Sys.time(),
Sys.time()
upperclass <- suppressMessages(allparameters %>%
dplyr::group_by(item) %>%
dplyr::slice_max(upper, n = 1) %>% dplyr::ungroup() %>%
dplyr::select('item', 'uppermax' = 'upper') %>%
dplyr::right_join(allparameters))
upperclass <- suppressMessages(allparameters %>%
dplyr::group_by(item) %>%
dplyr::slice_max(upper, n = 1) %>% dplyr::ungroup() %>%
dplyr::select('item', 'uppermax' = 'upper') %>%
dplyr::right_join(allparameters))
check()
check()
check()
check()
check()
check()
check()
upperclass <- suppressMessages(allparameters %>%
dplyr::group_by(item) %>%
dplyr::slice_max(upper, n = 1) %>% dplyr::ungroup() %>%
dplyr::select('item', 'uppermax' = 'upper') %>%
dplyr::right_join(allparameters))
check()
check()
check()
?combn()
check()
test_active_file()
test_active_file()
check()
test_active_file()
check()
?dplyr::rename
is(random_testdata, 'easylca')
is(random_testresults, 'easylca')
check()
test_active_file()
class(titanic_settings)
is(titanic_settings, 'lca_settings')
titanic_settings$analysis_name
titanic_lca_results <- readRDS("N:/Materialien/Software/easylca/data-raw/titanic_lca_results.rds")
generate_model_selection_report(titanic_lca_results)
generate_model_report(titanic_lca_results, 4, 8)
generate_model_report(titanic_lca_results, 2, 3)
generate_model_report(titanic_lca_results, 2, 5)
test_that('check for lca_settings object works', {
expect_error(perform_lca(6),
'Please provide a settings object of type "lca_settings". It can be generated using the define_lca command.')
})
check()
?is()
check()
test_active_file()
use_r()
test_active_file()
load_all()
test_active_file()
test_active_file()
extract_profile(random_testresults, random_testresults$settings)
extract_profile(random_testresults$models$modeltype_1$test_model1_lca.2_test_model1_lca.out, random_testresults$settings)
profile_categorical < -model[["parameters"]][["probability.scale"]] %>% as.data.frame() %>%
dplyr::rename(item = 'param',
level= 'category',
segment = 'LatentClass') %>%
dplyr::mutate(param = 'Probabilities') %>%
dplyr::mutate(level = as.integer(.data$level)-1)
test_active_file()
?dplyr::filter
?dplyr::arrange
?dplyr::rename
test_active_file()
use_r()
test_active_file()
check()
use_package('methods')
?ggplot2::aes
test_active_file()
use_test()
use_r()
dplyr::arrange
?dplyr::arrange
test_active_file()
check()
use_package('utils')
check()
check()
rm(list=ls()))
rm(list=ls())
library(devtools)
library(devtools)
use_r('read_models')
use_test()
`salzgitter_lca_results_rerun-no-5` <- readRDS("N:/Materialien/Promotion/05_easylca_latent-class-analysis_with-mixed-inidcators/easylca_presentation_R/salzgitter_20250822_20-49/salzgitter_lca_results_rerun-no-5.rds")
`salzgitter_lca_results_rerun-no-7` <- readRDS("N:/Materialien/Promotion/05_easylca_latent-class-analysis_with-mixed-inidcators/easylca_presentation_R/salzgitter_20250822_20-49/salzgitter_lca_results_rerun-no-7.rds")
View(`salzgitter_lca_results_rerun-no-5`)
`salzgitter_lca_results_rerun-no-5`[["settings"]][["starts"]][[1]]
View(`salzgitter_lca_results_rerun-no-7`)
`salzgitter_lca_results_rerun-no-7`[["settings"]][["starts"]][[1]]
rm(list=ls())
load_all()
test_active_file()
test_active_file()
?is()
test_active_file()
class(random_testresults$settings)
test_active_file
test_active_file()
test_active_file()
class(input)
?stopifnot
test_active_file()
test_active_file()
random_testresults$settings$folder_name
test_active_file()
test_active_file()
test_active_file()
?file.remove#
test_active_file()
test_active_file()
test_active_file()
?unlink
test_active_file()
?list.dirs
test_active_file()
test_active_file()
test_active_file()
test_active_file()
test_active_file()
?list.dirs
test_active_file()
test_active_file()
stringr::str_extract_all()
?stringr::str_extract_all()
test_active_file()
test_active_file()
View(types)
test_active_file()
View(types)
test_active_file()
directories
pattern
test_active_file()
types
types %>% unlist()
types %>% unlist() %>% as.integer()
test_active_file()
random_testdata
settings <- define_lca(random_testdata, 'read_models_test', id_variable = 'id', use = c('var1', 'var7'),
categorical = 'var1', nclasses = 2, starts = 5, cores = 64)
random_testresults
lapply(random_testresults, names)
names(random_testresults)
test_active_file()
test_active_file()
test_active_file()
test_active_file()
View(lca)
source("N:/Materialien/Software/easylca/R/read_models.R")
?invisible
test_active_file()
test_active_file()
force(modeltypes)
modeltypes <- get_estimated_modeltypes(settings)
directories <- list.dirs(settings$folder_name, recursive = FALSE)
if(length(directories) == 0){
stop('No models were found inside the corresponding folder for given settings.')
}
directories <- list.dirs(settings$folder_name, recursive = FALSE)
pattern <-paste0('(?<=', settings$folder_name,'/',
settings$analysis_name, '_model_)',
'[1-6](?=_lca)')
directories
pattern
test_active_file()
test_active_file()
rm(list=ls())
?capture.output()
capture.output(1+1, 2+2)
capture.output(1)
test_active_file()
test_active_file()
test_active_file()
test_active_file()
test_active_file()
test_active_file()
test_active_file()
force(models)
View(models)
general_info <- models[[typename]]
View(general_info)
general_info <- models[[typename]] %>%
sapply(function(model_per_class) {model_per_class[['summaries']]})
View(general_info)
general_info <- models[[typename]] %>%
sapply(function(model_per_class) {model_per_class[['summaries']]}) %>%
purrr::map_dfr(~ .x)
force(models)
View(models)
View(models)
force(models)
View(models)
length(models$modeltype_3)
length(models$modeltype_1)
name(models$modeltype_1)
name(models)
names(models$modeltype_1)
names(models$modeltype_3)
test_active_file()
test_active_file()
View(general_info)
test_active_file()
test_active_file()
test_active_file()
models[[typename]]
'class_counts' %in% names(models[[typename]])
nmin <- suppressWarnings(models[[typename]][['class_counts']][['modelEstimated']][['count']] %>%
lapply(min) %>% unlist())
View(models)
test_active_file()
View(mplus_results)
View(mplus_results)
new_names <- lapply(mplus_results, function(model){
paste0(model$summaries$NLatentClass, '_classes')
})
View(new_names)
new_names <- lapply(mplus_results, function(model){
paste0(model$summaries$NLatentClass, '_classes')
}) %>% unlist()
test_active_file()
View(mplus_results)
View(mplus_results)
View(mplus_results)
View(mplus_results)
test_active_file()
View(mplus_results)
'summaries' %in% names(mplus_results)
list(paste0(mplus_results$summaries$NLatentClass, '_classes' = mplus_results))
test <- list(paste0(mplus_results$summaries$NLatentClass, '_classes' = mplus_results))
View(test)
test <- list(paste0(mplus_results$summaries$NLatentClass, '_classes') = mplus_results)
View(test)
paste0(mplus_results$summaries$NLatentClass, '_classes')
test <- list(!! paste0(mplus_results$summaries$NLatentClass, '_classes') = mplus_results)
test[[paste0(mplus_results$summaries$NLatentClass, '_classes')]] = mplus_results
View(test)
test <- list()
test[[paste0(mplus_results$summaries$NLatentClass, '_classes')]] = mplus_results
View(test)
test_active_file()
test_active_file()
View(models)
test_active_file()
View(models)
test_active_file()
general_info <- models[[typename]] %>%
sapply(function(model_per_class) {model_per_class[['summaries']]})
View(general_info)
general_info <- models[[typename]] %>%
sapply(function(model_per_class) {model_per_class[['summaries']]}) %>%
purrr::map_dfr(~ .x)
View(general_info)
capture.output(1)
test_active_file()
test_active_file()
View(general_info)
t(general_info)
as.data.frame(t(general_info))
as.data.frame(t(general_info)) %>% View()
View(general_info)
class(general_info)
test_active_file()
test_active_file()
general_info <- general_info %>% t() %>% as.data.frame()
View(general_info)
general_info <- models[[typename]] %>%
sapply(function(model_per_class) {model_per_class[['summaries']]})
View(general_info)
View(general_info)
test_active_file()
test_active_file()
test_active_file()
View(general_info)
names(general_info)
general_info
class(general_info)
test_active_file()
View(overview)
View(modeloverview)
View(general_info)
check()
check()
check()
test_active_file()
test_active_file()
force(models)
View(models)
typename <- paste0('modeltype_', type)
general_info <- models[[typename]] %>%
lapply(function(model_per_class) {model_per_class[['summaries']]})
general_info <- general_info %>%
purrr::map_dfr(~ .x)
View(general_info)
general_info <- general_info %>%
dplyr::select('Title', 'Parameters', 'LL', 'AIC',
'AICC', 'BIC', saBIC = 'aBIC',
dplyr::any_of(c('Entropy', 'T11_VLMR_PValue','T11_LMR_PValue'))) %>%
as.data.frame() %>%
dplyr::mutate(classes = dplyr::row_number(), .before=1)
View(general_info)
check()
random_testresults
random_testresults[[-plots]]
random_testresults[[plots]]
random_testresults$plots <- NULL
View(random_testresults)
saveRDS(random_testresults, 'data-raw/testresults.rds')
rm(list=ls())
source("N:/Materialien/Software/easylca/data-raw/write_package_data.R")
check()
titanic_lca_results <- readRDS("N:/Materialien/Software/easylca/data-raw/titanic_lca_results.rds")
View(titanic_lca_results)
titanic_lca_results <- readRDS('data-raw/titanic_lca_results.rds')
source("N:/Materialien/Software/easylca/data-raw/write_package_data.R")
View(titanic_lca_results)
generate_model_selection_report(titanic_lca_results)
check()
foo <- readLines("http://worldclockapi.com/api/json/utc/now",warn = FALSE))
readLines("http://worldclockapi.com/api/json/utc/now",warn = FALSE))
readLines("http://worldclockapi.com/api/json/utc/now",warn = FALSE)
check()
titanic_lca_results
View(titanic_lca_results)
generate_model_selection_report(titanic_lca_results)
View(titanic_passengers)
View(titanic_lca_results)
document()
document()
?titanic_lca_results
use_r()
MplusAutomation::detectMplus()
MplusAutomation::detectMplus()
?MplusAutomation::detectMplus
?try()
rm(list=ls())
test_active_file()
test_active_file()
test_active_file()
test_active_file()
test_active_file()
check()
check()
check()
check()
check()
is_mplus_installed()
MplusAutomation::detect_mplus()
detection <- MplusAutomation::detectMplus()
is.character(detection) && length(detection) > 0
rm(detection)
check()
check()
use_test('read_models')
check()
check()
check()
check()
check()
load_all()
load_all()
check()
check()
check()
check()
check()
